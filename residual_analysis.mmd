```mermaid
flowchart TD
    subgraph "LSTMConv Model - Residual Connection Analysis"
        subgraph "Residual Types Found âœ…"
            R1[ğŸ”„ Classic Residual<br/>ResNetBlock<br/>out = input + transformation]
            R2[ğŸ”„ Skip Connections<br/>DecodingBlock<br/>out = upsampled + encoder_residual]
            R3[ğŸ”„ Attention Residual<br/>AttentionBlock<br/>out = input + attention_processed]
            R4[âš¡ Gating Mechanism<br/>LocalAttention<br/>out = input * attention_weights]
        end
        
        subgraph "Model Architecture Summary"
            direction TB
            
            MainNet[FlowPredictionNet<br/>ğŸ“Š Main Optical Flow Network]
            
            subgraph "Encoder Path"
                Enc1[EncodingBlock 1<br/>ğŸ“¥ Input Processing]
                Enc2[EncodingBlock 2<br/>ğŸ”½ Feature Extraction]
                Enc3[EncodingBlock 3<br/>ğŸ¯ Deep Features]
            end
            
            subgraph "Decoder Path"
                Dec1[DecodingBlock 1<br/>ğŸ”¼ Feature Reconstruction]
                Dec2[DecodingBlock 2<br/>ğŸ“ˆ Upsampling]
                Dec3[DecodingBlock 3<br/>ğŸ“¤ Output Generation]
            end
            
            subgraph "Core Processing Units"
                LSTM[GatedConvLSTM<br/>ğŸ§  Temporal Memory]
                Attn[LocalAttention<br/>ğŸ‘ï¸ Spatial Focus]
                Hybrid[HybridBlock<br/>ğŸ”— LSTM + Attention]
            end
        end
        
        subgraph "Data Flow with Residual Connections"
            Input[Input Frames<br/>I0, I1]
            
            %% Encoder flow
            Input --> Enc1
            Enc1 -->|res1| Enc2
            Enc2 -->|res2| Enc3
            Enc3 -->|res3| Dec1
            
            %% Decoder flow with skip connections
            Dec1 --> Dec2
            Dec2 --> Dec3
            Dec3 --> Output[Optical Flow<br/>F_0_1, F_1_0]
            
            %% Skip connections (residual)
            Enc1 -.->|Skip Connection ğŸ”„| Dec3
            Enc2 -.->|Skip Connection ğŸ”„| Dec2
            Enc3 -.->|Skip Connection ğŸ”„| Dec1
        end
        
        subgraph "Key Findings ğŸ“‹"
            Finding1[âœ… ResNetBlock cÃ³ classic residual:<br/>identity + processed]
            Finding2[âœ… DecodingBlock cÃ³ skip connections:<br/>encoder_features + decoder_features]
            Finding3[âœ… AttentionBlock cÃ³ residual attention:<br/>input + attention_output]
            Finding4[â„¹ï¸ LocalAttention dÃ¹ng gating:<br/>input * attention_weights]
            Finding5[ğŸ“Š Tá»•ng cá»™ng: 3 loáº¡i residual connections]
        end
    end
    
    %% Styling
    classDef residual fill:#ffe6e6,stroke:#cc0000,stroke-width:3px,color:#000
    classDef found fill:#e6ffe6,stroke:#00cc00,stroke-width:2px,color:#000
    classDef info fill:#e6f3ff,stroke:#0066cc,stroke-width:2px,color:#000
    classDef flow fill:#fff9e6,stroke:#ff9900,stroke-width:2px,color:#000
    
    class R1,R2,R3 residual
    class Finding1,Finding2,Finding3,Finding5 found
    class Finding4 info
    class MainNet,Input,Output flow
```